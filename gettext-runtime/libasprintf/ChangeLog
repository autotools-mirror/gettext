2003-08-29  Bruno Haible  <bruno@clisp.org>

	* configure.ac: Test whether _snprintf is declared, not only existent
	as a function.
	* vasnprintf.c: Test HAVE_DECL__SNPRINTF instead of HAVE__SNPRINTF.
	Test HAVE_DECL__SNWPRINTF instead of HAVE__SNWPRINTF.
	* Makefile.am (config.h.msvc): Define HAVE_DECL__SNPRINTF instead of
	defining snprintf as a macro.

2003-08-24  Bruno Haible  <bruno@clisp.org>

	* vasnprintf.c (local_wcslen): Protect against multiple definition.
	(USE_SNPRINTF): Define also if only _snprintf() is available.
	(SNPRINTF): Possibly define as _snprintf or _snwprintf.
	* configure.ac: Also check for _snprintf.

2003-08-11  Bruno Haible  <bruno@clisp.org>

	* vasnprintf.c (local_wcslen): New function, for Solaris 2.5.1.
	(VASNPRINTF): Use it instead of wcslen.
	* configure.ac: Also check for wcslen.
	* Makefile.am (config.h_vms): Set HAVE_WCSLEN.
	(config.h.msvc): Likewise.

2003-06-20  Bruno Haible  <bruno@clisp.org>

	* configure.ac: Invoke gt_PRINTF_POSIX.
	* lib-asprintf.h: Ignore an existing vasprintf() if it doesn't support
	POSIX/XSI format strings.
	* lib-asprintf.c: Likewise.
	* Makefile.am (config.h_vms): Define HAVE_POSIX_PRINTF.

2003-06-19  Bruno Haible  <bruno@clisp.org>

	* configure.ac (jm_AC_TYPE_LONG_LONG): Replaces gt_TYPE_LONGLONG.
	* printf-args.c: Generalize to it can be compiled for wide strings.
	(PRINTF_PARSE, CHAR_T, DIRECTIVE, DIRECTIVES): New macros.
	* vasnprintf.c: Generalize to it can be compiled for wide strings.
	(VASNPRINTF, CHAR_T, DIRECTIVE, DIRECTIVES, PRINTF_PARSE, USE_SNPRINTF,
	SNPRINTF): New macros.
	Don't include <alloca.h> if the file is used inside libintl.

2003-05-30  Bruno Haible  <bruno@clisp.org>

	* autosprintf.texi: Tweak @dircategory and @direntry.
	Reported by Karl Berry <karl@freefriends.org>.

2003-05-22  Bruno Haible  <bruno@clisp.org>

	* gettext-0.12.1 released.

2003-05-20  Bruno Haible  <bruno@clisp.org>

	* Makefile.am (config.h_vms, config.h.msvc, autosprintf.h.msvc-shared):
	Don't use $< here.

2003-05-19  Bruno Haible  <bruno@clisp.org>

	* windows/asprintf.rc: Include <winver.h>.
	Reported by Perry Rapp.

2003-05-18  Bruno Haible  <bruno@clisp.org>

	* Makefile.msvc (DEBUGFLAGS): New variable.
	(asprintf.lib): Use it.

2003-05-17  Bruno Haible  <bruno@clisp.org>

	* gettext-0.12 released.

2003-04-12  Bruno Haible  <bruno@clisp.org>

	* Makefile.am (config.h_vms): Renamed from config.h.vms.
	* Makefile.vms: New variables ABIFLAGS, DEFS. Avoid rules with no
	lines. Update library creation rule. Don't use the force target.
	Correct wildcard syntax.
	Suggested by Jouk Jansen <joukj@hrem.stm.tudelft.nl>.

2003-04-12  Bruno Haible  <bruno@clisp.org>

	* Makefile.am (docdir): Use datadir instead of prefix.
	* Makefile.msvc (datadir): New variable.
	(sub_docdir): Use it instead of prefix.
	(install, installdirs): Update.
	* Makefile.vms (datadir): New variable.
	(sub_docdir): Use it instead of prefix.

2003-03-30  Bruno Haible  <bruno@clisp.org>

	* Makefile.vms: New file.
	* Makefile.am (config.h.vms): New rule.
	(EXTRA_DIST): Add Makefile.vms and config.h.vms.

2003-03-17  Bruno Haible  <bruno@clisp.org>

	Native Woe32/MSVC support.
	* autosprintf.h.in: Renamed from autosprintf.h.
	* Makefile.msvc: New file.
	* README.woe32: New file.
	* windows/dllexport.h: New file.
	* windows/asprintf.rc: New file.
	* Makefile.am (EXTRA_DIST): Add them and config.h.msvc and
	autosprintf.h.in.
	(autosprintf.h): New rule.
	(MOSTLYCLEANFILES): Add autosprintf.h.
	(dist-hook): Don't distribute autosprintf.h.
	(config.h.msvc, autosprintf.h.msvc-shared): New rules.

2003-02-22  Bruno Haible  <bruno@clisp.org>

	* autosprintf.texi: Add comment about indices.
	* Makefile.am (MOSTLYCLEANFILES): No need to clean the unused indices.
	(The automake generated rule already cleans them.)

2003-02-22  Bruno Haible  <bruno@clisp.org>

	* Makefile.am (installdirs): Remove dependency, redundant with
	automake >= 1.6.

2003-02-18  Bruno Haible  <bruno@clisp.org>

	* Makefile.am (clean-am): New rule. For Solaris cc.

2003-02-12  Bruno Haible  <bruno@clisp.org>

	* configure.ac: Renamed from configure.in. Invoke AC_CONFIG_AUX_DIR.
	Invoke AC_FUNC_ALLOCA instead of gl_FUNC_ALLOCA. Remove redundant
	postprocessing of Makefile.
	* Makefile.am (ACLOCAL_AMFLAGS): Add -I ../../config/m4.
	($(libasprintf_la_OBJECTS)): Make alloca.h dependency effective.

2003-01-03  Albert Chin  <libtool@thewrittenword.com>

	* ltmain.sh: Don't pass -R flags found in a .la's dependency_libs
	variable directly down to the linker.
	Reported by Tim Mooney <mooney@dogbert.cc.ndsu.nodak.edu>.

2003-01-12  Bruno Haible  <bruno@clisp.org>

	* configure.in: Invoke gl_FUNC_ALLOCA instead of AC_FUNC_ALLOCA.
	* alloca_.h: New file, from gnulib.
	* liballoca.h: Remove file.
	* Makefile.am: Add snippet from gnulib module alloca.
	(lib_asprintf_EXTRASOURCES): Remove liballoca.h.
	* vasnprintf.c: Include alloca.h instead of liballoca.h.

2003-01-12  Bruno Haible  <bruno@clisp.org>

	* Makefile.am: Make use of += for variables.

2003-01-12  Bruno Haible  <bruno@clisp.org>

	Portability to FreeBSD.
	* configure.in: Invoke gt_TYPE_WINT_T.
	* printf-args.h: Use HAVE_WINT_T, not HAVE_WCHAR_T, to check for
	availability of wint_t.
	* printf-argc.c: Likewise.
	* printf-parse.c: Likewise.
	* vasnprintf.c: Likewise.

2002-12-07  Bruno Haible  <bruno@clisp.org>

	Switch to autoconf-2.57 and automake-1.7.2.
	* configure.in: Use AC_CONFIG_FILES, because the AC_OUTPUT commands
	and not run any more when config.status is called to create a single
	file.

2002-11-13  Bruno Haible  <bruno@clisp.org>

	Assume ANSI C.
	* libstdarg.h: Remove file.
	* Makefile.am (lib_asprintf_EXTRASOURCES): Remove libstdarg.h.
	* asnprintf.c: Include <stdarg.h> instead of libstdarg.h.
	(asnprintf): Use ANSI C function declarations. Use va_start instead of
	VA_START.
	* asprintf.c: Include <stdarg.h> instead of libstdarg.h.
	(asnprintf): Use ANSI C function declarations. Use va_start instead of
	VA_START.
	* printf-args.h (PARAMS): Remove macro.
	(printf_fetchargs): Use ANSI C function declarations.
	* printf-args.c (printf_fetchargs): Likewise.
	* printf-parse.h (printf_parse): Likewise.
	* printf-parse.c (printf_parse): Likewise.
	* vasnprintf.h (PARAMS): Remove macro.
	(asnprintf, vasnprintf): Use ANSI C function declarations.
	* vasnprintf.c (vasnprintf): Likewise.
	* vasprintf.h (PARAMS): Remove macro.
	(asprintf, vasprintf): Use ANSI C function declarations.
	* vasprintf.c (vasprintf): Likewise.

2002-10-27  Bruno Haible  <bruno@clisp.org>

	* printf-args.h, printf-args.c: New files.
	* printf-parse.h, printf-parse.c: New files.
	* vasnprintf.h, vasnprintf.c, asnprintf.c: New files.
	* vasprintf.h, vasprintf.c, asprintf.c: New files.
	* lib-asprintf.h, lib-asprintf.c: New files.
	* autosprintf.h, autosprintf.cc: New files.
	* README, NEWS, AUTHORS, COPYING, autosprintf.texi: New files.
	* Makefile.am, configure.in: New files.
	* liballoca.h, libstdarg.h: New files, from gettext-0.11.6/lib.
	* COPYING.LIB, INSTALL, config.guess, config.sub, install-sh,
	ltmain.sh, missing, mkinstalldirs, texi2html, texinfo.tex: Standard
	infrastructure files, from gettext-0.11.6.
