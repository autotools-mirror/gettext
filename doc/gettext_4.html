<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.52a
     from gettext.texi on 30 November 2001 -->

<TITLE>GNU gettext utilities - 4  Making the PO Template File</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="gettext_1.html">first</A>, <A HREF="gettext_3.html">previous</A>, <A HREF="gettext_5.html">next</A>, <A HREF="gettext_16.html">last</A> section, <A HREF="gettext_toc.html">table of contents</A>.
<P><HR><P>


<H1><A NAME="SEC19" HREF="gettext_toc.html#TOC19">4  Making the PO Template File</A></H1>

<P>
After preparing the sources, the programmer creates a PO template file.
This section explains how to use <CODE>xgettext</CODE> for this purpose.

</P>



<H2><A NAME="SEC20" HREF="gettext_toc.html#TOC20">4.1  Invoking the <CODE>xgettext</CODE> Program</A></H2>


<PRE>
xgettext [<VAR>option</VAR>] [<VAR>inputfile</VAR>] ...
</PRE>

<P>
The <CODE>xgettext</CODE> program extracts translatable strings from given
input files.

</P>


<H3><A NAME="SEC21" HREF="gettext_toc.html#TOC21">4.1.1  Input file location</A></H3>

<DL COMPACT>

<DT><SAMP>`<VAR>inputfile</VAR> ...&acute;</SAMP>
<DD>
Input files.

<DT><SAMP>`-f <VAR>file</VAR>&acute;</SAMP>
<DD>
<DT><SAMP>`--files-from=<VAR>file</VAR>&acute;</SAMP>
<DD>
Read the names of the input files from <VAR>file</VAR> instead of getting
them from the command line.

<DT><SAMP>`-D <VAR>directory</VAR>&acute;</SAMP>
<DD>
<DT><SAMP>`--directory=<VAR>directory</VAR>&acute;</SAMP>
<DD>
Add <VAR>directory</VAR> to the list of directories.  Source files are
searched relative to this list of directories.  The resulting <TT>`.po&acute;</TT>
file will be written relative to the current directory, though.

</DL>

<P>
If <VAR>inputfile</VAR> is <SAMP>`-&acute;</SAMP>, standard input is read.

</P>


<H3><A NAME="SEC22" HREF="gettext_toc.html#TOC22">4.1.2  Output file location</A></H3>

<DL COMPACT>

<DT><SAMP>`-d <VAR>name</VAR>&acute;</SAMP>
<DD>
<DT><SAMP>`--default-domain=<VAR>name</VAR>&acute;</SAMP>
<DD>
Use <TT>`<VAR>name</VAR>.po&acute;</TT> for output (instead of <TT>`messages.po&acute;</TT>).

<DT><SAMP>`-o <VAR>file</VAR>&acute;</SAMP>
<DD>
<DT><SAMP>`--output=<VAR>file</VAR>&acute;</SAMP>
<DD>
Write output to specified file (instead of <TT>`<VAR>name</VAR>.po&acute;</TT> or
<TT>`messages.po&acute;</TT>).

<DT><SAMP>`-p <VAR>dir</VAR>&acute;</SAMP>
<DD>
<DT><SAMP>`--output-dir=<VAR>dir</VAR>&acute;</SAMP>
<DD>
Output files will be placed in directory <VAR>dir</VAR>.

</DL>

<P>
If the output <VAR>file</VAR> is <SAMP>`-&acute;</SAMP> or <SAMP>`/dev/stdout&acute;</SAMP>, the output
is written to standard output.

</P>


<H3><A NAME="SEC23" HREF="gettext_toc.html#TOC23">4.1.3  Choice of input file language</A></H3>

<DL COMPACT>

<DT><SAMP>`-L <VAR>name</VAR>&acute;</SAMP>
<DD>
<DT><SAMP>`--language=<VAR>name</VAR>&acute;</SAMP>
<DD>
Specifies the language of the input files.  The supported languages
are <CODE>C</CODE>, <CODE>C++</CODE>, <CODE>ObjectiveC</CODE>, <CODE>PO</CODE>, <CODE>Java</CODE>,
<CODE>YCP</CODE>.

<DT><SAMP>`-C&acute;</SAMP>
<DD>
<DT><SAMP>`--c++&acute;</SAMP>
<DD>
This is a shorthand for <CODE>--language=C++</CODE>.

</DL>

<P>
By default the language is guessed depending on the input file name
extension.

</P>


<H3><A NAME="SEC24" HREF="gettext_toc.html#TOC24">4.1.4  Operation mode</A></H3>

<DL COMPACT>

<DT><SAMP>`-j&acute;</SAMP>
<DD>
<DT><SAMP>`--join-existing&acute;</SAMP>
<DD>
Join messages with existing file.

<DT><SAMP>`-x <VAR>file</VAR>&acute;</SAMP>
<DD>
<DT><SAMP>`--exclude-file=<VAR>file</VAR>&acute;</SAMP>
<DD>
Entries from <VAR>file</VAR> are not extracted.  <VAR>file</VAR> should be a PO or
POT file.

<DT><SAMP>`-c [<VAR>tag</VAR>]&acute;</SAMP>
<DD>
<DT><SAMP>`--add-comments[=<VAR>tag</VAR>]&acute;</SAMP>
<DD>
Place comment block with <VAR>tag</VAR> (or those preceding keyword lines)
in output file.

</DL>



<H3><A NAME="SEC25" HREF="gettext_toc.html#TOC25">4.1.5  Language=C/C++ specific options</A></H3>

<DL COMPACT>

<DT><SAMP>`-a&acute;</SAMP>
<DD>
<DT><SAMP>`--extract-all&acute;</SAMP>
<DD>
Extract all strings.

<DT><SAMP>`-k <VAR>keywordspec</VAR>&acute;</SAMP>
<DD>
<DT><SAMP>`--keyword[=<VAR>keywordspec</VAR>]&acute;</SAMP>
<DD>
Additional keyword to be looked for (without <VAR>keywordspec</VAR> means not to
use default keywords).

If <VAR>keywordspec</VAR> is a C identifer <VAR>id</VAR>, <CODE>xgettext</CODE> looks
for strings in the first argument of each call to the function or macro
<VAR>id</VAR>.  If <VAR>keywordspec</VAR> is of the form
<SAMP>`<VAR>id</VAR>:<VAR>argnum</VAR>&acute;</SAMP>, <CODE>xgettext</CODE> looks for strings in the
<VAR>argnum</VAR>th argument of the call.  If <VAR>keywordspec</VAR> is of the form
<SAMP>`<VAR>id</VAR>:<VAR>argnum1</VAR>,<VAR>argnum2</VAR>&acute;</SAMP>, <CODE>xgettext</CODE> looks for
strings in the <VAR>argnum1</VAR>st argument and in the <VAR>argnum2</VAR>nd argument
of the call, and treats them as singular/plural variants for a message
with plural handling.

The default keyword specifications, which are always looked for if not
explicitly disabled, are <CODE>gettext</CODE>, <CODE>dgettext:2</CODE>,
<CODE>dcgettext:2</CODE>, <CODE>ngettext:1,2</CODE>, <CODE>dngettext:2,3</CODE>,
<CODE>dcngettext:2,3</CODE>, and <CODE>gettext_noop</CODE>.

<DT><SAMP>`-T&acute;</SAMP>
<DD>
<DT><SAMP>`--trigraphs&acute;</SAMP>
<DD>
Understand ANSI C trigraphs for input.

<DT><SAMP>`--debug&acute;</SAMP>
<DD>
Use the flags <KBD>c-format</KBD> and <KBD>possible-c-format</KBD> to show who was
responsible for marking a message as a format string.  The latter form is
used if the <CODE>xgettext</CODE> program decided, the format form is used if
the programmer prescribed it.

By default only the <KBD>c-format</KBD> form is used.  The translator should
not have to care about these details.

</DL>

<P>
This implementation of <CODE>xgettext</CODE> is able to process a few awkward
cases, like strings in preprocessor macros, ANSI concatenation of
adjacent strings, and escaped end of lines for continued strings.

</P>


<H3><A NAME="SEC26" HREF="gettext_toc.html#TOC26">4.1.6  Output details</A></H3>

<DL COMPACT>

<DT><SAMP>`--force-po&acute;</SAMP>
<DD>
Always write an output file even if no message is defined.

<DT><SAMP>`-i&acute;</SAMP>
<DD>
<DT><SAMP>`--indent&acute;</SAMP>
<DD>
Write the .po file using indented style.

<DT><SAMP>`--no-location&acute;</SAMP>
<DD>
Do not write <SAMP>`#: <VAR>filename</VAR>:<VAR>line</VAR>&acute;</SAMP> lines.

<DT><SAMP>`-n&acute;</SAMP>
<DD>
<DT><SAMP>`--add-location&acute;</SAMP>
<DD>
Generate <SAMP>`#: <VAR>filename</VAR>:<VAR>line</VAR>&acute;</SAMP> lines (default).

<DT><SAMP>`--strict&acute;</SAMP>
<DD>
Write out a strict Uniforum conforming PO file.  Note that this
Uniforum format should be avoided because it doesn't support the
GNU extensions.

<DT><SAMP>`-w <VAR>number</VAR>&acute;</SAMP>
<DD>
<DT><SAMP>`--width=<VAR>number</VAR>&acute;</SAMP>
<DD>
Set the output page width.  Long strings in the output files will be
split across multiple lines in order to ensure that each line's width
(= number of screen columns) is less or equal to the given <VAR>number</VAR>.

<DT><SAMP>`-s&acute;</SAMP>
<DD>
<DT><SAMP>`--sort-output&acute;</SAMP>
<DD>
Generate sorted output.  Note that using this option makes it much harder
for the translator to understand each message's context.

<DT><SAMP>`-F&acute;</SAMP>
<DD>
<DT><SAMP>`--sort-by-file&acute;</SAMP>
<DD>
Sort output by file location.

<DT><SAMP>`--omit-header&acute;</SAMP>
<DD>
Don't write header with <SAMP>`msgid ""&acute;</SAMP> entry.

This is useful for testing purposes because it eliminates a source
of variance for generated <CODE>.gmo</CODE> files.  With <CODE>--omit-header</CODE>,
two invocations of <CODE>xgettext</CODE> on the same files with the same
options at different times are guaranteed to produce the same results.

<DT><SAMP>`--foreign-user&acute;</SAMP>
<DD>
Omit FSF copyright in output.  This can be useful for translators
outside the GNU project.

<DT><SAMP>`-m [<VAR>string</VAR>]&acute;</SAMP>
<DD>
<DT><SAMP>`--msgstr-prefix[=<VAR>string</VAR>]&acute;</SAMP>
<DD>
Use <VAR>string</VAR> (or "" if not specified) as prefix for msgstr entries.

<DT><SAMP>`-M [<VAR>string</VAR>]&acute;</SAMP>
<DD>
<DT><SAMP>`--msgstr-suffix[=<VAR>string</VAR>]&acute;</SAMP>
<DD>
Use <VAR>string</VAR> (or "" if not specified) as suffix for msgstr entries.

</DL>



<H3><A NAME="SEC27" HREF="gettext_toc.html#TOC27">4.1.7  Informative output</A></H3>

<DL COMPACT>

<DT><SAMP>`-h&acute;</SAMP>
<DD>
<DT><SAMP>`--help&acute;</SAMP>
<DD>
Display this help and exit.

<DT><SAMP>`-V&acute;</SAMP>
<DD>
<DT><SAMP>`--version&acute;</SAMP>
<DD>
Output version information and exit.

</DL>

<P><HR><P>
Go to the <A HREF="gettext_1.html">first</A>, <A HREF="gettext_3.html">previous</A>, <A HREF="gettext_5.html">next</A>, <A HREF="gettext_16.html">last</A> section, <A HREF="gettext_toc.html">table of contents</A>.
</BODY>
</HTML>
